<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood Music and Games</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <style>
        .game-container {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body class="bg-gray-200">
    <div class="fixed top-4 right-4 bg-white p-2 rounded shadow">
        <span id="moodDisplay" class="font-semibold"></span>
    </div>

    <div class="flex flex-col items-center justify-center min-h-screen">
        <div id="player" class="w-full max-w-2xl mb-8"></div>

        <div id="games" class="w-full max-w-2xl">
            </div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const mood = urlParams.get('mood');
        document.getElementById('moodDisplay').textContent = mood.toUpperCase();

        // ... (YouTube player code remains the same) ...

        function loadGames(mood) {
            const gamesDiv = document.getElementById("games");
            gamesDiv.innerHTML = ""; // Clear previous games.

            if (mood === "happy") {
                gamesDiv.innerHTML = `
                    <div class="game-container">
                        <h3>Happy Clicker</h3>
                        <button id="happyClicker" class="bg-yellow-400 hover:bg-yellow-500 p-2 rounded">Click Me!</button>
                        <p id="happyScore">Score: 0</p>
                    </div>
                `;
                let happyScore = 0;
                document.getElementById("happyClicker").addEventListener("click", () => {
                    happyScore++;
                    document.getElementById("happyScore").textContent = `Score: ${happyScore}`;
                });
            } else if (mood === "sad") {
                gamesDiv.innerHTML = `
                    <div class="game-container">
                        <h3>Memory Match (Simple)</h3>
                        <p>Find the matching pairs.</p>
                        <div class="grid grid-cols-2 gap-2">
                            <div class="bg-gray-300 p-4 rounded">A</div>
                            <div class="bg-gray-300 p-4 rounded">B</div>
                            <div class="bg-gray-300 p-4 rounded">A</div>
                            <div class="bg-gray-300 p-4 rounded">B</div>
                        </div>
                    </div>
                `;
            } else if (mood === "energetic") {
                gamesDiv.innerHTML = `
                    <div class="game-container">
                        <h3>Quick Reaction Test</h3>
                        <button id="reactionTest" class="bg-red-500 hover:bg-red-600 p-2 rounded text-white">Start</button>
                        <p id="reactionTime"></p>
                    </div>
                `;
                document.getElementById("reactionTest").addEventListener("click", () => {
                    let startTime;
                    document.getElementById("reactionTest").disabled = true;
                    setTimeout(() => {
                        document.getElementById("reactionTest").textContent = "Click Now!";
                        startTime = Date.now();
                    }, Math.random() * 2000 + 500); // Random delay
                    document.getElementById("reactionTest").addEventListener("click", () => {
                        const endTime = Date.now();
                        const reactionTime = endTime - startTime;
                        document.getElementById("reactionTime").textContent = `Reaction Time: ${reactionTime}ms`;
                        document.getElementById("reactionTest").textContent = "Start";
                        document.getElementById("reactionTest").disabled = false;
                    }, {once: true});
                });
            } else if (mood === "relaxed") {
                gamesDiv.innerHTML = `
                    <div class="game-container">
                        <h3>Simple Breathing Exercise</h3>
                        <div class="w-20 h-20 rounded-full bg-blue-200 animate-pulse"></div>
                        <p>Breathe in and out with the pulse.</p>
                    </div>
                `;
            }
        }
        loadGames(mood);

    </script>
</body>
</html>
